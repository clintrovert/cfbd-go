syntax = "proto3";

package cfbd.v1;

// This is a best-effort Protobuf mapping of the Swagger/OpenAPI schemas in the CFBD v2 API.
// This file was made after the API to aid in generation of client libraries.
//
// Notes:
// - Many Swagger fields are marked as nullable. For JSON null compatibility we use
//   google.protobuf wrappers (StringValue/Int32Value/DoubleValue/BoolValue) where applicable.
// - Some schemas in the paste were truncated as `{...}` or `[...]`. Those fields are mapped to
//   google.protobuf.Struct / google.protobuf.ListValue to preserve JSON compatibility.
// - Swagger "enum" fields are represented as string (or StringValue if nullable) so that JSON
//   values like "regular" or "fbs" unmarshal without custom enum-name mapping.

import "google/protobuf/timestamp.proto";
import "google/protobuf/struct.proto";

option go_package = "github.com/clintrovert/cfbd-go/cfbd;cfbd";
option java_package = "com.cfbd.api.v1";
option java_multiple_files = true;
option java_outer_classname = "CfbdApiProto";
option csharp_namespace = "Cfbd.Api.V1";

// ------------------------------------------------------------
// Shared / helper messages
// ------------------------------------------------------------

message EpaSplit {
  double rushing = 1;
  double passing = 2;
  double total = 3;
}

message SuccessRateSplit {
  double passing_downs = 1;
  double standard_downs = 2;
  double total = 3;
}

message RushingYardsSplit {
  double highlight_yards = 1;
  double open_field_yards = 2;
  double second_level_yards = 3;
  double line_yards = 4;
}

message ClockInt32 {
  optional int32 seconds = 1;
  optional int32 minutes = 2;
}

message ClockDouble {
  optional double seconds = 1;
  optional double minutes = 2;
}

message StatValue {
  // Swagger: anyOf -> string OR number($double)
  google.protobuf.Value value = 1;
}

// ------------------------------------------------------------
// Top-level schemas
// ------------------------------------------------------------

message AdjustedTeamMetrics {
  int32 year = 1;
  int32 team_id = 2;
  string team = 3;
  string conference = 4;
  EpaSplit epa = 5;
  EpaSplit epa_allowed = 6;
  SuccessRateSplit success_rate = 7;
  SuccessRateSplit success_rate_allowed = 8;
  RushingYardsSplit rushing = 9;
  RushingYardsSplit rushing_allowed = 10;
  double explosiveness = 11;
  double explosiveness_allowed = 12;
}

message PlayerWeightedEPA {
  int32 year = 1;
  string athlete_id = 2;
  string athlete_name = 3;
  string position = 4;
  string team = 5;
  string conference = 6;
  double wepa = 7;
  int32 plays = 8;
}

message KickerPAAR {
  int32 year = 1;
  string athlete_id = 2;
  string athlete_name = 3;
  string team = 4;
  string conference = 5;
  double paar = 6;
  int32 attempts = 7;
}

message Venue {
  optional int32 id = 1;
  string name = 2;
  string city = 3;
  string state = 4;
  string zip = 5;
  string country_code = 6;
  string timezone = 7;
  optional double latitude = 8;
  optional double longitude = 9;
  string elevation = 10;
  optional int32 capacity = 11;
  optional int32 construction_year = 12;
  optional bool grass = 13;
  optional bool dome = 14;
}

message Team {
  int32 id = 1;
  string school = 2;
  string mascot = 3;
  string abbreviation = 4;
  repeated string alternate_names = 5;
  string conference = 6;
  string division = 7;
  string classification = 8;
  string color = 9;
  string alternate_color = 10;
  repeated string logos = 11;
  string twitter = 12;
  Venue location = 13;
}

message MatchupGame {
  int32 season = 1;
  int32 week = 2;
  string season_type = 3;
  string date = 4;
  bool neutral_site = 5;
  string venue = 6;
  string home_team = 7;
  optional int32 home_score = 8;
  string away_team = 9;
  optional int32 away_score = 10;
  string winner = 11;
}

message Matchup {
  string team1 = 1;
  string team2 = 2;
  optional int32 start_year = 3;
  optional int32 end_year = 4;
  int32 team1_wins = 5;
  int32 team2_wins = 6;
  int32 ties = 7;
  repeated MatchupGame games = 8;
}

message TeamATS {
  int32 year = 1;
  int32 team_id = 2;
  string team = 3;
  string conference = 4;
  optional int32 games = 5;
  int32 ats_wins = 6;
  int32 ats_losses = 7;
  int32 ats_pushes = 8;
  optional double avg_cover_margin = 9;
}

message RosterPlayer {
  string id = 1;
  string first_name = 2;
  string last_name = 3;
  string team = 4;
  optional double height = 5;
  optional int32 weight = 6;
  optional int32 jersey = 7;
  optional int32 year = 8 [deprecated = true];
  string position = 9;
  string home_city = 10;
  string home_state = 11;
  string home_country = 12;
  optional double home_latitude = 13;
  optional double home_longitude = 14;
  string home_county_FIPS = 15;
  repeated string recruit_ids = 16;
}

message Conference {
  int32 id = 1;
  string name = 2;
  string short_name = 3;
  string abbreviation = 4;
  string classification = 5;
}

message TeamTalent {
  int32 year = 1;
  string team = 2;
  double talent = 3;
}

message PlayerStat {
  int32 season = 1;
  string player_id = 2;
  string player = 3;
  string position = 4;
  string team = 5;
  string conference = 6;
  string category = 7;
  string stat_type = 8;
  string stat = 9;
}

message TeamStat {
  int32 season = 1;
  string team = 2;
  string conference = 3;
  string stat_name = 4;
  google.protobuf.Value stat_value = 5;
}

// -------------------- Advanced season/game stats --------------------

message AdvancedRateMetrics {
  optional double explosiveness = 1;
  optional double success_rate = 2;
  optional double total_PPA = 3;
  optional double ppa = 4;
  optional double rate = 5;
}

message AdvancedHavoc {
  optional double db = 1;
  optional double front_seven = 2;
  optional double total = 3;
}

message AdvancedFieldPosition {
  optional double average_predicted_points = 1;
  optional double average_start = 2;
}

message AdvancedSeasonStatSide {
  AdvancedRateMetrics passing_plays = 1;
  AdvancedRateMetrics rushing_plays = 2;
  AdvancedRateMetrics passing_downs = 3;
  AdvancedRateMetrics standard_downs = 4;
  AdvancedHavoc havoc = 5;
  AdvancedFieldPosition field_position = 6;
  optional double points_per_opportunity = 7;
  optional int32 total_opportunies = 8; // typo in API: totalOpportunies
  optional int32 open_field_yards_total = 9;
  optional double open_field_yards = 10;
  optional int32 second_level_yards_total = 11;
  optional double second_level_yards = 12;
  optional int32 line_yards_total = 13;
  optional double line_yards = 14;
  optional double stuff_rate = 15;
  optional double power_success = 16;
  optional double explosiveness = 17;
  optional double success_rate = 18;
  optional double total_PPA = 19;
  optional double ppa = 20;
  optional int32 drives = 21;
  optional int32 plays = 22;
}

message AdvancedSeasonStat {
  int32 season = 1;
  string team = 2;
  string conference = 3;
  AdvancedSeasonStatSide offense = 4;
  AdvancedSeasonStatSide defense = 5;
}

message AdvancedGameStatSidePlayMetrics {
  optional double explosiveness = 1;
  optional double success_rate = 2;
  optional double total_PPA = 3;
  optional double ppa = 4;
}

message AdvancedGameStatSideDownMetrics {
  optional double explosiveness = 1;
  optional double success_rate = 2;
  optional double ppa = 3;
}

message AdvancedGameStatSide {
  AdvancedGameStatSidePlayMetrics passing_plays = 1;
  AdvancedGameStatSidePlayMetrics rushing_plays = 2;
  AdvancedGameStatSideDownMetrics passing_downs = 3;
  AdvancedGameStatSideDownMetrics standard_downs = 4;
  optional int32 open_field_yards_total = 5;
  optional double open_field_yards = 6;
  optional int32 second_level_yards_total = 7;
  optional double second_level_yards = 8;
  optional int32 line_yards_total = 9;
  optional double line_yards = 10;
  optional double stuff_rate = 11;
  optional double power_success = 12;
  optional double explosiveness = 13;
  optional double success_rate = 14;
  optional double total_PPA = 15;
  optional double ppa = 16;
  optional int32 drives = 17;
  optional int32 plays = 18;
}

message AdvancedGameStat {
  int32 game_id = 1;
  int32 season = 2;
  string season_type = 3;
  int32 week = 4;
  string team = 5;
  string opponent = 6;
  AdvancedGameStatSide offense = 7;
  AdvancedGameStatSide defense = 8;
}

message GameHavocStatSide {
  double db_havoc_rate = 1;
  double front_seven_havoc_rate = 2;
  double havoc_rate = 3;
  double db_havoc_events = 4;
  double front_seven_havoc_events = 5;
  double total_havoc_events = 6;
  double total_plays = 7;
}

message GameHavocStats {
  int32 game_id = 1;
  int32 season = 2;
  string season_type = 3;
  int32 week = 4;
  string team = 5;
  string conference = 6;
  string opponent = 7;
  string opponent_conference = 8;
  GameHavocStatSide offense = 9;
  GameHavocStatSide defense = 10;
}

// -------------------- Recruiting --------------------

message RecruitHometownInfo {
  string fips_code = 1;
  optional double longitude = 2;
  optional double latitude = 3;
}

message Recruit {
  string id = 1;
  string athlete_id = 2;
  string recruit_type = 3;
  int32 year = 4;
  optional int32 ranking = 5;
  string name = 6;
  string school = 7;
  string committed_to = 8;
  string position = 9;
  optional double height = 10;
  optional int32 weight = 11;
  int32 stars = 12;
  double rating = 13;
  string city = 14;
  string state_province = 15;
  string country = 16;
  RecruitHometownInfo hometown_info = 17;
}

message TeamRecruitingRanking {
  int32 year = 1;
  int32 rank = 2;
  string team = 3;
  double points = 4;
}

message AggregatedTeamRecruiting {
  string team = 1;
  string conference = 2;
  string position_group = 3;
  double average_rating = 4;
  double total_rating = 5;
  int32 commits = 6;
  double average_stars = 7;
}

// -------------------- SP / SRS / Elo / FPI --------------------

message SpTeamOffense {
  optional double pace = 1;
  optional double run_rate = 2;
  optional double passing_downs = 3;
  optional double standard_downs = 4;
  optional double passing = 5;
  optional double rushing = 6;
  optional double explosiveness = 7;
  optional double success = 8;
  optional double rating = 9;
  optional int32 ranking = 10;
}

message SpTeamDefense {
  AdvancedHavoc havoc = 1;
  optional double passing_downs = 2;
  optional double standard_downs = 3;
  optional double passing = 4;
  optional double rushing = 5;
  optional double explosiveness = 6;
  optional double success = 7;
  optional double rating = 8;
  optional int32 ranking = 9;
}

message SpSpecialTeams {
  optional double rating = 1;
}

message TeamSP {
  int32 year = 1;
  string team = 2;
  string conference = 3;

  optional double rating = 4;
  optional int32 ranking = 5;

  optional double second_order_wins = 6;
  optional double sos = 7;

  SpTeamOffense offense = 8;
  SpTeamDefense defense = 9;
  SpSpecialTeams special_teams = 10;
}

message ConferenceSpOffense {
  optional double pace = 1;
  optional double run_rate = 2;
  optional double passing_downs = 3;
  optional double standard_downs = 4;
  optional double passing = 5;
  optional double rushing = 6;
  optional double explosiveness = 7;
  optional double success = 8;
  optional double rating = 9;
}

message ConferenceSpDefense {
  AdvancedHavoc havoc = 1;
  optional double passing_downs = 2;
  optional double standard_downs = 3;
  optional double passing = 4;
  optional double rushing = 5;
  optional double explosiveness = 6;
  optional double success = 7;
  optional double rating = 8;
}

message ConferenceSP {
  int32 year = 1;
  string conference = 2;
  double rating = 3;
  double second_order_wins = 4;
  optional double sos = 5;

  ConferenceSpOffense offense = 6;
  ConferenceSpDefense defense = 7;
  SpSpecialTeams special_teams = 8;
}

message TeamSRS {
  int32 year = 1;
  string team = 2;
  string conference = 3;
  string division = 4;
  double rating = 5;
  optional int32 ranking = 6;
}

message TeamElo {
  int32 year = 1;
  string team = 2;
  string conference = 3;
  optional int32 elo = 4;
}

message FpiResumeRanks {
  optional int32 game_control = 1;
  optional int32 remaining_strength_of_schedule = 2;
  optional int32 strength_of_schedule = 3;
  optional int32 average_win_probability = 4;
  optional int32 fpi = 5;
  optional int32 strength_of_record = 6;
}

message FpiEfficiencies {
  optional double special_teams = 1;
  optional double defense = 2;
  optional double offense = 3;
  optional double overall = 4;
}

message TeamFPI {
  int32 year = 1;
  string team = 2;
  string conference = 3;

  optional double fpi = 4;
  FpiResumeRanks resume_ranks = 5;
  FpiEfficiencies efficiencies = 6;
}

// -------------------- Polls --------------------

message PollRank {
  optional int32 rank = 1;
  optional int32 team_id = 2;
  string school = 3;
  string conference = 4;
  optional int32 first_place_votes = 5;
  optional int32 points = 6;
}

message Poll {
  string poll = 1;
  repeated PollRank ranks = 2;
}

message PollWeek {
  int32 season = 1;
  string season_type = 2;
  int32 week = 3;
  repeated Poll polls = 4;
}

// -------------------- Plays & play stats --------------------

message Play {
  string id = 1;
  string drive_id = 2;
  int32 game_id = 3;
  optional int32 drive_number = 4;
  optional int32 play_number = 5;
  string offense = 6;
  string offense_conference = 7;
  int32 offense_score = 8;
  string defense = 9;
  string home = 10;
  string away = 11;
  string defense_conference = 12;
  int32 defense_score = 13;
  int32 period = 14;
  ClockInt32 clock = 15;
  optional int32 offense_timeouts = 16;
  optional int32 defense_timeouts = 17;
  int32 yardline = 18;
  int32 yards_to_goal = 19;
  int32 down = 20;
  int32 distance = 21;
  int32 yards_gained = 22;
  bool scoring = 23;
  string play_type = 24;
  string play_text = 25;
  optional double ppa = 26;
  string wallclock = 27;
}

message PlayType {
  int32 id = 1;
  string text = 2;
  string abbreviation = 3;
}

message PlayStat {
  double game_id = 1;
  double season = 2;
  double week = 3;
  string team = 4;
  string conference = 5;
  string opponent = 6;
  double team_score = 7;
  double opponent_score = 8;
  string drive_id = 9;
  string play_id = 10;
  double period = 11;
  ClockDouble clock = 12;
  double yards_to_goal = 13;
  double down = 14;
  double distance = 15;
  string athlete_id = 16;
  string athlete_name = 17;
  string stat_type = 18;
  double stat = 19;
}

message PlayStatType {
  int32 id = 1;
  string name = 2;
}

message PlayerSearchResult {
  string id = 1;
  string team = 2;
  string name = 3;
  string first_name = 4;
  string last_name = 5;
  optional int32 weight = 6;
  optional double height = 7;
  optional int32 jersey = 8;
  string position = 9;
  string hometown = 10;
  string team_color = 11;
  string team_color_secondary = 12;
}

message PlayerPPAChartItem {
  int32 play_number = 1;
  double avg_PPA = 2;
}

message PlayerUsageSplits {
  optional double passing_downs = 1;
  optional double standard_downs = 2;
  optional double third_down = 3;
  optional double second_down = 4;
  optional double first_down = 5;
  optional double rush = 6;
  optional double pass = 7;
  optional double overall = 8;
}

message PlayerUsage {
  int32 season = 1;
  string id = 2;
  string name = 3;
  string position = 4;
  string team = 5;
  string conference = 6;
  PlayerUsageSplits usage = 7;
}

// -------------------- Returning production & transfers --------------------

message ReturningProduction {
  int32 season = 1;
  string team = 2;
  string conference = 3;

  double total_PPA = 4;
  double total_passing_PPA = 5;
  double total_receiving_PPA = 6;
  double total_rushing_PPA = 7;

  double percent_PPA = 8;
  double percent_passing_PPA = 9;
  double percent_receiving_PPA = 10;
  double percent_rushing_PPA = 11;

  double usage = 12;
  double passing_usage = 13;
  double receiving_usage = 14;
  double rushing_usage = 15;
}

message PlayerTransfer {
  int32 season = 1;
  string first_name = 2;
  string last_name = 3;
  string position = 4;
  string origin = 5;
  string destination = 6;
  google.protobuf.Timestamp transfer_date = 7;
  optional double rating = 8;
  optional int32 stars = 9;
  string eligibility = 10;
}

// -------------------- Predicted points & PPA added --------------------

message PredictedPointsValue {
  int32 yard_line = 1;
  double predicted_points = 2;
}

// PredictedPointsAddedTotals for teams (uses "total" in JSON)
message PredictedPointsAddedTotals {
  double third_down = 1;
  double second_down = 2;
  double first_down = 3;
  double rushing = 4;
  double passing = 5;
  double total = 6;  // JSON uses "total" in teams cumulative
}

// PredictedPointsAddedTotalsForGames for games (uses "overall" in JSON)
message PredictedPointsAddedTotalsForGames {
  double third_down = 1;
  double second_down = 2;
  double first_down = 3;
  double rushing = 4;
  double passing = 5;
  double overall = 6;  // JSON uses "overall" in games offense/defense
}

message TeamSeasonPredictedPointsAddedUnit {
  PredictedPointsAddedTotals cumulative = 1;
  optional double third_down = 2;
  optional double second_down = 3;
  optional double first_down = 4;
  optional double rushing = 5;
  optional double passing = 6;
  optional double overall = 7;
}

message TeamSeasonPredictedPointsAdded {
  int32 season = 1;
  string conference = 2;
  string team = 3;
  TeamSeasonPredictedPointsAddedUnit offense = 4;
  TeamSeasonPredictedPointsAddedUnit defense = 5;
}

message TeamGamePredictedPointsAdded {
  int32 game_id = 1;
  int32 season = 2;
  int32 week = 3;
  string season_type = 4;
  string team = 5;
  string conference = 6;
  string opponent = 7;
  PredictedPointsAddedTotalsForGames offense = 8;
  PredictedPointsAddedTotalsForGames defense = 9;
}

message AveragePpa {
  double rush = 1;
  double pass = 2;
  double all = 3;
}

message PlayerGamePredictedPointsAdded {
  int32 season = 1;
  int32 week = 2;
  string season_type = 3;
  string id = 4;
  string name = 5;
  string position = 6;
  string team = 7;
  string opponent = 8;
  AveragePpa average_PPA = 9;
}

message PlayerSeasonPpaSplits {
  optional double passing_downs = 1;
  optional double standard_downs = 2;
  optional double third_down = 3;
  optional double second_down = 4;
  optional double first_down = 5;
  optional double rush = 6;
  optional double pass = 7;
  optional double all = 8;
}

message PlayerSeasonPredictedPointsAdded {
  int32 season = 1;
  string id = 2;
  string name = 3;
  string position = 4;
  string team = 5;
  string conference = 6;
  PlayerSeasonPpaSplits average_PPA = 7;
  PlayerSeasonPpaSplits total_PPA = 8;
}

// -------------------- Win probability --------------------

message PlayWinProbability {
  int32 game_id = 1;
  string play_id = 2;
  string play_text = 3;
  int32 home_id = 4;
  string home = 5;
  int32 away_id = 6;
  string away = 7;
  double spread = 8;
  bool home_ball = 9;
  int32 home_score = 10;
  int32 away_score = 11;
  int32 yard_line = 12;
  int32 down = 13;
  int32 distance = 14;
  double home_win_probability = 15;
  int32 play_number = 16;
}

message PregameWinProbability {
  int32 season = 1;
  string season_type = 2;
  int32 week = 3;
  int32 game_id = 4;
  string home_team = 5;
  string away_team = 6;
  double spread = 7;
  double home_win_probability = 8;
}

message FieldGoalEP {
  int32 yards_to_goal = 1;
  int32 distance = 2;
  double expected_points = 3;
}

// -------------------- Live game --------------------

message LiveGameTeam {
  int32 team_id = 1;
  string team = 2;
  string home_away = 3;
  repeated int32 line_scores = 4;
  int32 points = 5;
  int32 drives = 6;
  int32 scoring_opportunities = 7;
  double points_per_opportunity = 8;
  optional double average_start_yard_line = 9;
  int32 plays = 10;
  double line_yards = 11;
  double line_yards_per_rush = 12;
  double second_level_yards = 13;
  double second_level_yards_per_rush = 14;
  double open_field_yards = 15;
  double open_field_yards_per_rush = 16;
  double epa_per_play = 17;
  double total_epa = 18;
  double passing_epa = 19;
  double epa_per_pass = 20;
  double rushing_epa = 21;
  double epa_per_rush = 22;
  double success_rate = 23;
  double standard_down_success_rate = 24;
  double passing_down_success_rate = 25;
  double explosiveness = 26;
  optional double deserve_to_win = 27;
}

message LiveGamePlay {
  string id = 1;
  int32 home_score = 2;
  int32 away_score = 3;
  int32 period = 4;
  string clock = 5;
  google.protobuf.Timestamp wall_clock = 6;
  int32 team_id = 7;
  string team = 8;
  int32 down = 9;
  int32 distance = 10;
  int32 yards_to_goal = 11;
  int32 yards_gained = 12;
  int32 play_type_id = 13;
  string play_type = 14;
  optional double epa = 15;
  bool garbage_time = 16;
  bool success = 17;
  string rush_pass = 18;
  string down_type = 19;
  string play_text = 20;
}

message LiveGameDrive {
  string id = 1;
  int32 offense_id = 2;
  string offense = 3;
  int32 defense_id = 4;
  string defense = 5;
  int32 play_count = 6;
  int32 yards = 7;
  int32 start_period = 8;
  string start_clock = 9;
  int32 start_yards_to_goal = 10;
  optional int32 end_period = 11;
  string end_clock = 12;
  optional int32 end_yards_to_goal = 13;
  string duration = 14;
  bool scoring_opportunity = 15;
  string result = 16;
  int32 points_gained = 17;
  repeated LiveGamePlay plays = 18;
}

message LiveGame {
  int32 id = 1;
  string status = 2;
  optional int32 period = 3;
  string clock = 4;
  string possession = 5;
  optional int32 down = 6;
  optional int32 distance = 7;
  optional int32 yards_to_goal = 8;
  repeated LiveGameTeam teams = 9;
  repeated LiveGameDrive drives = 10;
}

// -------------------- Betting / lines / games --------------------

message GameLine {
  string provider = 1;
  optional double spread = 2;
  string formatted_spread = 3;
  optional double spread_open = 4;
  optional double over_under = 5;
  optional double over_under_open = 6;
  optional double home_moneyline = 7;
  optional double away_moneyline = 8;
}

message BettingGame {
  int32 id = 1;
  int32 season = 2;
  string season_type = 3;
  int32 week = 4;
  google.protobuf.Timestamp start_date = 5;
  int32 home_team_id = 6;
  string home_team = 7;
  string home_conference = 8;
  string home_classification = 9;
  optional int32 home_score = 10;
  int32 away_team_id = 11;
  string away_team = 12;
  string away_conference = 13;
  string away_classification = 14;
  optional int32 away_score = 15;
  repeated GameLine lines = 16;
}

message UserInfo {
  double patron_level = 1;
  double remaining_calls = 2;
}

message Int32List {
  repeated int32 values = 1;
}

message Game {
  int32 id = 1;
  int32 season = 2;
  int32 week = 3;
  string season_type = 4;
  google.protobuf.Timestamp start_date = 5;
  bool start_time_TBD = 6;
  bool completed = 7;
  bool neutral_site = 8;
  bool conference_game = 9;
  optional int32 attendance = 10;
  optional int32 venue_id = 11;
  string venue = 12;
  optional int32 home_id = 13;
  string home_team = 14;
  string home_conference = 15;
  string home_classification = 16;
  optional int32 home_points = 17;
  repeated int32 home_line_scores = 18;
  optional double home_postgame_win_probability = 19;
  optional int32 home_pregame_elo = 20;
  optional int32 home_postgame_elo = 21;
  optional int32 away_id = 22;
  string away_team = 23;
  string away_conference = 24;
  string away_classification = 25;
  optional int32 away_points = 26;
  repeated int32 away_line_scores = 27;
  optional double away_postgame_win_probability = 28;
  optional int32 away_pregame_elo = 29;
  optional int32 away_postgame_elo = 30;
  optional double excitement_index = 31;
  string highlights = 32;
  string notes = 33;
}

// -------------------- Game team stats --------------------

message GameTeamStatsTeamStat {
  string category = 1;
  string stat = 2;
}

message GameTeamStatsTeam {
  int32 team_id = 1;
  string team = 2;
  string conference = 3;
  string home_away = 4;
  optional int32 points = 5;
  repeated GameTeamStatsTeamStat stats = 6;
}

message GameTeamStats {
  int32 id = 1;
  repeated GameTeamStatsTeam teams = 2;
}

// -------------------- Game player stats --------------------

message GamePlayerStatPlayer {
  string id = 1;
  string name = 2;
  string stat = 3;
}

message GamePlayerStatTypes {
  string name = 1;
  repeated GamePlayerStatPlayer athletes = 2;
}

message GamePlayerStatCategories {
  string name = 1;
  repeated GamePlayerStatTypes types = 2;
}

message GamePlayerStatsTeam {
  string team = 1;
  string conference = 2;
  string home_away = 3;
  optional int32 points = 4;
  repeated GamePlayerStatCategories categories = 5;
}

message GamePlayerStats {
  int32 id = 1;
  repeated GamePlayerStatsTeam teams = 2;
}

// -------------------- Media & weather --------------------

message GameMedia {
  int32 id = 1;
  int32 season = 2;
  int32 week = 3;
  string season_type = 4;
  google.protobuf.Timestamp start_time = 5;
  bool is_start_time_TBD = 6;
  string home_team = 7;
  string home_conference = 8;
  string away_team = 9;
  string away_conference = 10;
  string media_type = 11;
  string outlet = 12;
}

message GameWeather {
  int32 id = 1;
  int32 season = 2;
  int32 week = 3;
  string season_type = 4;
  google.protobuf.Timestamp start_time = 5;
  bool game_indoors = 6;
  string home_team = 7;
  string home_conference = 8;
  string away_team = 9;
  string away_conference = 10;
  optional int32 venue_id = 11;
  string venue = 12;
  optional double temperature = 13;
  optional double dew_point = 14;
  optional double humidity = 15;
  optional double precipitation = 16;
  optional double snowfall = 17;
  optional double wind_direction = 18;
  optional double wind_speed = 19;
  optional double pressure = 20;
  optional double weather_condition_code = 21;
  string weather_condition = 22;
}

// -------------------- Records / calendar / scoreboard --------------------

message TeamRecord {
  int32 games = 1;
  int32 wins = 2;
  int32 losses = 3;
  int32 ties = 4;
}

message TeamRecords {
  int32 year = 1;
  optional int32 team_id = 2;
  string team = 3;
  string classification = 4;
  string conference = 5;
  string division = 6;
  optional double expected_wins = 7;
  TeamRecord total = 8;
  TeamRecord conference_games = 9;
  TeamRecord home_games = 10;
  TeamRecord away_games = 11;
  TeamRecord neutral_site_games = 12;
  TeamRecord regular_season = 13;
  TeamRecord postseason = 14;
}

message CalendarWeek {
  int32 season = 1;
  int32 week = 2;
  string season_type = 3;
  google.protobuf.Timestamp start_date = 4;
  google.protobuf.Timestamp end_date = 5;
  google.protobuf.Timestamp first_game_start = 6 [deprecated = true];
  google.protobuf.Timestamp last_game_start = 7 [deprecated = true];
}

message Scoreboard {
  int32 id = 1;
  google.protobuf.Timestamp start_date = 2;
  bool start_time_TBD = 3;
  string tv = 4;
  bool neutral_site = 5;
  bool conference_game = 6;
  string status = 7;
  optional int32 period = 8;
  string clock = 9;
  string situation = 10;
  string possession = 11;
  string last_play = 12;
  google.protobuf.Struct venue = 13;
  google.protobuf.Struct home_team = 14;
  google.protobuf.Struct away_team = 15;
  google.protobuf.Struct weather = 16;
  google.protobuf.Struct betting = 17;
}

// -------------------- Drives --------------------

message Drive {
  string offense = 1;
  string offense_conference = 2;
  string defense = 3;
  string defense_conference = 4;
  int32 game_id = 5;
  string id = 6;
  optional int32 drive_number = 7;
  bool scoring = 8;
  int32 start_period = 9;
  int32 start_yardline = 10;
  int32 start_yards_to_goal = 11;
  ClockInt32 start_time = 12;
  int32 end_period = 13;
  int32 end_yardline = 14;
  int32 end_yards_to_goal = 15;
  ClockInt32 end_time = 16;
  ClockInt32 elapsed = 17;
  int32 plays = 18;
  int32 yards = 19;
  string drive_result = 20;
  bool is_home_offense = 21;
  int32 start_offense_score = 22;
  int32 start_defense_score = 23;
  int32 end_offense_score = 24;
  int32 end_defense_score = 25;
}

// -------------------- Draft --------------------

message DraftTeam {
  string location = 1;
  string nickname = 2;
  string display_name = 3;
  string logo = 4;
}

message DraftPosition {
  string name = 1;
  string abbreviation = 2;
}

message DraftPickHometownInfo {
  string county_fips = 1;
  string longitude = 2;
  string latitude = 3;
  string country = 4;
  string state = 5;
  string city = 6;
}

message DraftPick {
  optional int32 college_athlete_id = 1;
  optional int32 nfl_athlete_id = 2;
  int32 college_id = 3;
  string college_team = 4;
  string college_conference = 5;
  int32 nfl_team_id = 6;
  string nfl_team = 7;
  int32 year = 8;
  int32 overall = 9;
  int32 round = 10;
  int32 pick = 11;
  string name = 12;
  string position = 13;
  optional double height = 14;
  optional int32 weight = 15;
  optional int32 pre_draft_ranking = 16;
  optional int32 pre_draft_position_ranking = 17;
  optional int32 pre_draft_grade = 18;
  DraftPickHometownInfo hometown_info = 19;
}

// -------------------- Coaches --------------------

message CoachSeason {
  string school = 1;
  int32 year = 2;
  int32 games = 3;
  int32 wins = 4;
  int32 losses = 5;
  int32 ties = 6;
  optional int32 preseason_rank = 7;
  optional int32 postseason_rank = 8;
  optional double srs = 9;
  optional double sp_overall = 10;
  optional double sp_offense = 11;
  optional double sp_defense = 12;
}

message Coach {
  string first_name = 1;
  string last_name = 2;
  google.protobuf.Timestamp hire_date = 3;
  repeated CoachSeason seasons = 4;
}

// -------------------- By quarter / advanced box score --------------------

message StatsByQuarter {
  double total = 1;
  optional double quarter1 = 2;
  optional double quarter2 = 3;
  optional double quarter3 = 4;
  optional double quarter4 = 5;
}

message TeamPPA {
  string team = 1;
  int32 plays = 2;

  StatsByQuarter overall = 3;
  StatsByQuarter passing = 4;
  StatsByQuarter rushing = 5;
}

message TeamSuccessRates {
  string team = 1;

  StatsByQuarter overall = 2;
  StatsByQuarter standard_downs = 3;
  StatsByQuarter passing_downs = 4;
}

message TeamExplosiveness {
  string team = 1;
  StatsByQuarter overall = 2;
}

message TeamRushingStats {
  string team = 1;
  double power_success = 2;
  double stuff_rate = 3;
  double line_yards = 4;
  double line_yards_average = 5;
  double second_level_yards = 6;
  double second_level_yards_average = 7;
  double open_field_yards = 8;
  double open_field_yards_average = 9;
}

message TeamHavoc {
  string team = 1;
  double total = 2;
  double front_seven = 3;
  double db = 4;
}

message TeamScoringOpportunities {
  string team = 1;
  int32 opportunities = 2;
  int32 points = 3;
  double points_per_opportunity = 4;
}

message TeamFieldPosition {
  string team = 1;
  double average_start = 2;
  double average_starting_predicted_points = 3;
}

message PlayerGameUsage {
  double total = 1;
  optional double quarter1 = 2;
  optional double quarter2 = 3;
  optional double quarter3 = 4;
  optional double quarter4 = 5;
  double rushing = 6;
  double passing = 7;

  string player = 8;
  string team = 9;
  string position = 10;
}

message PlayerStatsByQuarter {
  double total = 1;
  optional double quarter1 = 2;
  optional double quarter2 = 3;
  optional double quarter3 = 4;
  optional double quarter4 = 5;
  double rushing = 6;
  double passing = 7;
}

message PlayerPPA {
  string player = 1;
  string team = 2;
  string position = 3;
  PlayerStatsByQuarter average = 4;
  PlayerStatsByQuarter cumulative = 5;
}

message AdvancedBoxScoreGameInfo {
  double excitement = 1;
  bool home_winner = 2;
  double away_win_prob = 3;
  int32 away_points = 4;
  string away_team = 5;
  double home_win_prob = 6;
  int32 home_points = 7;
  string home_team = 8;
}

message AdvancedBoxScoreTeams {
  repeated TeamFieldPosition field_position = 1;
  repeated TeamScoringOpportunities scoring_opportunities = 2;
  repeated TeamHavoc havoc = 3;
  repeated TeamRushingStats rushing = 4;
  repeated TeamExplosiveness explosiveness = 5;
  repeated TeamSuccessRates success_rates = 6;
  repeated TeamPPA cumulative_ppa = 7;
  repeated TeamPPA ppa = 8;
}

message AdvancedBoxScorePlayers {
  repeated PlayerPPA ppa = 1;
  repeated PlayerGameUsage usage = 2;
}

message AdvancedBoxScore {
  AdvancedBoxScoreGameInfo game_info = 1;
  AdvancedBoxScoreTeams teams = 2;
  AdvancedBoxScorePlayers players = 3;
}
